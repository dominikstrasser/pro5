<div horizontal layout>
    <div id="current" vertical layout flex>
        <div horizontal layout>
            <div flex class="arrivals">
                <h1>Aktuelle Anreisen</h1>
                <div ng-if="arrivalsOrder" ng-class="{'visible active' : isSelected(dayObject)}" class="day" ng-repeat="dayObject in arrivalsOrder track by $index">
                    <h2 ng-if="dayObject">{{displayDate(dayObject[0].arr) | date:'dd.MM.yyyy'}}<i ng-click="dayAnimation(dayObject)"><img src="../../img/arrows/down_grey.png" class="arrow" alt="arrow"></i></h2>
                    <div ng-class="{'visible active' : isSelectedEntry(arrival)}" class="dayEntry" ng-if="dayObject" ng-repeat="arrival in dayObject">
                    <!--<h2 ng-if="!isCurrentDate(arrival.arr)">{{displayDate(arrival.arr) | date:'dd.MM.yyyy'}}</h2>-->
                    <div class="dayEntryHeader">
                        <span>{{arrival.guest_id.salutation}} </span>
                        <span>{{arrival.guest_id.last_name}}</span>
                        <span>{{arrival.person_count}} Personen</span>
                        <i ng-click="dayEntryAnimation(arrival)"><img src="../../img/arrows/down_blue.png" class="arrow" alt="arrow"></i>
                    </div>
                    <div class="dayEntryDetails">
                        <div>
                            Zimmer
                            <span ng-repeat="room in arrival.room_id">{{room.number}}{{$last ? '' : ', '}}</span>
                        </div>
                        <div>Abreise : {{arrival.dep | date:"dd.MM.yyyy"}}</div>
                        <div>Verpflegung: {{arrival.category}}</div>
                    </div>
                    </div>
                </div>

            </div>
            <div flex class="departures">
                <h1>Aktuelle Abreisen</h1>
                <div ng-if="departuresOrder" ng-class="{'visible active' : isSelected(dayObject)}" class="day" ng-repeat="dayObject in departuresOrder track by $index">
                    <h2 ng-if="dayObject">{{displayDate(dayObject[0].dep) | date:'dd.MM.yyyy'}}<i ng-click="dayAnimation(dayObject)"><img src="../../img/arrows/down_grey.png" class="arrow" alt="arrow"></i></h2>
                    <div class="dayEntry" ng-if="dayObject" ng-repeat="departure in dayObject">
                        <!--<h2 ng-if="!isCurrentDate(arrival.arr)">{{displayDate(arrival.arr) | date:'dd.MM.yyyy'}}</h2>-->
                        <span>{{departure.dep | date:'dd.MM.yyyy'}}</span>
                        <span>{{departure.guest_id.last_name}}</span>
                        <span>{{departure.person_count}} Personen</span>
                    <span>Zimmer

                        <span ng-repeat="room in arrival.room_id">{{room.number}}</span>
                    </span>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="logo">
        <img src="../img/logo.png">
    </div>
</div>

<div class="formular" ng-controller="requestFormController">
    <h1>Neue Anfrage</h1>
    <p>Die Datums werden im FE zu UTC 12:00:00 gewandelt...
    Aber die Umwandlung muss von Lokaler Zeitzohne in UTC geschehen und nicht UTC generieren!
        In DB werden datums als UTC gespeichert...
        (kurz vor mitternacht-Problem)</p>
    <p class="status">{{available_rooms.length}} Zimmer verf√ºgbar</p>
    <form>
        <div class="col">
            <div class="row">Anreise <input type="text" class="cal" placeholder="Datum" ng-model="requestForm.arr" name="arr" bs-datepicker></div>
            <div class="row">Abreise <input type="text" class="cal" placeholder="Datum" ng-model="requestForm.dep" name="dep" bs-datepicker></div>
        </div>

        <div class="col">
            <div class="row">
                <custom-counter ng-model="requestForm.persons" current="0" singular="Person" plural="Personen" size="12"></custom-counter>
            </div>
        </div>

        <div class="col">
            <div class="row">
                <custom-counter current="0" singular="EZ" plural="EZ" size="5"></custom-counter>
            </div>

            <div class="row">
                <custom-counter current="0" singular="DZ" plural="DZ" size="5"></custom-counter>
            </div>
        </div>

        <div class="col">
            <div class="row">
                <core-selector ng-model="requestForm.category" class="list" selected="-1">
                    <div class="item">HP</div>
                    <div class="item">NF</div>
                </core-selector>
            </div>
        </div>

        <div class="col last">
            <div class="row">
                <input type="text" ng-model="requestForm.last_name" name="name" placeholder="Nachname/Firma">
            </div>

            <div class="row">
                <input type="text" ng-model="requestForm.email" name="email" placeholder="E-Mail Adresse">
            </div>

            <div class="row">
                <input ng-click="testBooking()" type="submit" class="greenButton" value="Weiter">
            </div>
        </div>

        <div class="clear"></div>
    </form>
</div>